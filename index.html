<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PRO SPY | The Ultimate Infiltration Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Noto+Sans+Arabic:wght@400;700;900&display=swap');
        
        :root {
            --primary: #00f2ff;
            --accent: #7000ff;
            --bg: #050505;
        }

        body { 
            background-color: var(--bg); 
            color: #ffffff;
            font-family: 'Space Grotesk', 'Noto Sans Arabic', sans-serif;
            margin: 0;
            overflow-x: hidden;
            /* ÿ™ŸÖ ÿßŸÑÿ≥ŸÖÿßÿ≠ ÿ®ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÜÿµ ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿ∑ŸÑÿ®ŸÉ */
            user-select: text;
            -webkit-user-select: text;
        }

        .bg-grid {
            background-image: 
                linear-gradient(to right, rgba(112, 0, 255, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(112, 0, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            position: fixed;
            inset: 0;
            z-index: -1;
        }

        .glow-sphere {
            position: fixed;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(112, 0, 255, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(60px);
            z-index: -1;
            animation: drift 20s infinite alternate linear;
        }

        @keyframes drift {
            from { transform: translate(-10%, -10%); }
            to { transform: translate(20%, 20%); }
        }

        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
        }

        @keyframes reveal {
            0% { opacity: 0; transform: translateY(10px) scale(0.98); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-reveal { animation: reveal 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }

        .logo-anim {
            animation: logo-float 3s ease-in-out infinite;
        }
        @keyframes logo-float {
            0%, 100% { transform: translateY(0); filter: drop-shadow(0 0 10px var(--primary)); }
            50% { transform: translateY(-5px); filter: drop-shadow(0 0 20px var(--accent)); }
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px var(--accent);
            filter: brightness(1.1);
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }

        .selected-word-pulse {
            animation: border-pulse 2s infinite;
        }
        @keyframes border-pulse {
            0% { border-color: rgba(0, 242, 255, 0.3); }
            50% { border-color: rgba(0, 242, 255, 1); }
            100% { border-color: rgba(0, 242, 255, 0.3); }
        }
    </style>
</head>
<body>
    <div class="bg-grid"></div>
    <div class="glow-sphere" style="top: -10%; right: -10%;"></div>
    <div id="root"></div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const firebaseConfig = {
            apiKey: "AIzaSyApAJaNfF0YHupunLRlK3jRYvttxczWShY",
            authDomain: "who-is-the-spy-919b9.firebaseapp.com",
            projectId: "who-is-the-spy-919b9",
            storageBucket: "who-is-the-spy-919b9.firebasestorage.app",
            messagingSenderId: "607075438373",
            appId: "1:607075438373:web:a03e9fb8b243cd993e14cc"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const appId = 'pro_spy_v2_core';
        const GEMINI_KEY = ""; 

        const TRANSLATIONS = {
            en: {
                appName: "PRO SPY",
                tagline: "TRUST NO ONE",
                nickname: "Operator Alias",
                create: "CREATE HEADQUARTERS",
                join: "JOIN OPERATION",
                codePlaceholder: "ACCESS CODE",
                players: "ACTIVE AGENTS",
                start: "LAUNCH MISSION",
                spyTitle: "IDENTITY: SPY",
                spyDesc: "Objective data corrupted. Blend in and neutralize the investigation.",
                citizenTitle: "IDENTITY: CITIZEN",
                citizenDesc: "Target objective identified. Detect the anomaly.",
                objective: "MISSION OBJECTIVE",
                voting: "IDENTIFY TARGET",
                votingDesc: "Choose the intel that matches the objective.",
                timer: "LOCKDOWN:",
                sec: "S",
                copied: "COPIED",
                copy: "COPY",
                waiting: "Awaiting Command...",
                loading: "INITIALIZING...",
                encrypted: "ENCRYPTED DATA",
                spyHint: "Analyze transmissions to reverse-engineer the objective.",
                newRound: "RE-INITIALIZE",
                minPlayers: "Minimum 3 agents required",
                langBtn: "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©",
                yourChoice: "SELECTED INTEL:",
                noChoice: "NO SELECTION MADE"
            },
            ar: {
                appName: "ÿ®ÿ±Ÿà ÿ¨ÿßÿ≥Ÿàÿ≥",
                tagline: "ŸÑÿß ÿ™ÿ´ŸÇ ÿ®ÿ£ÿ≠ÿØ",
                nickname: "ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ",
                create: "ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖŸÇÿ±",
                join: "ÿßŸÜÿ∂ŸÖÿßŸÖ ŸÑŸÑÿπŸÖŸÑŸäÿ©",
                codePlaceholder: "ÿ±ŸÖÿ≤ ÿßŸÑÿØÿÆŸàŸÑ",
                players: "ÿßŸÑÿπŸÖŸÑÿßÿ° ÿßŸÑŸÜÿ¥ÿ∑ŸàŸÜ",
                start: "ÿ®ÿØÿ° ÿßŸÑŸÖŸáŸÖÿ©",
                spyTitle: "ÿßŸÑŸáŸàŸäÿ©: ÿ¨ÿßÿ≥Ÿàÿ≥",
                spyDesc: "ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸáÿØŸÅ ÿ™ÿßŸÑŸÅÿ©. ÿßŸÜÿØŸÖÿ¨ Ÿàÿ≠ŸäÿØ ÿßŸÑÿ™ÿ≠ŸÇŸäŸÇ.",
                citizenTitle: "ÿßŸÑŸáŸàŸäÿ©: ŸÖŸàÿßÿ∑ŸÜ",
                citizenDesc: "ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸáÿØŸÅ. ÿßŸÉÿ¥ŸÅ ÿßŸÑÿØÿÆŸäŸÑ.",
                objective: "ŸáÿØŸÅ ÿßŸÑŸÖŸáŸÖÿ©",
                voting: "ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸáÿØŸÅ",
                votingDesc: "ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿπŸÑŸàŸÖÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ∑ÿßÿ®ŸÇ ŸáÿØŸÅ ÿßŸÑŸÖŸáŸÖÿ©.",
                timer: "ÿßŸÑÿ•ÿ∫ŸÑÿßŸÇ:",
                sec: "ÿ´",
                copied: "ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ",
                copy: "ŸÜÿ≥ÿÆ",
                waiting: "ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ÿßŸÑÿ£ŸàÿßŸÖÿ±...",
                loading: "ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...",
                encrypted: "ÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ¥ŸÅÿ±ÿ©",
                spyHint: "ÿ≠ŸÑŸÑ ÿßŸÑÿ•ÿ¥ÿßÿ±ÿßÿ™ ŸÑÿßÿ≥ÿ™ŸÜÿ™ÿßÿ¨ ŸáÿØŸÅ ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸä.",
                newRound: "ÿ•ÿπÿßÿØÿ© ÿ™ŸáŸäÿ¶ÿ©",
                minPlayers: "ŸÖÿ∑ŸÑŸàÿ® 3 ÿπŸÖŸÑÿßÿ° ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ",
                langBtn: "English",
                yourChoice: "ÿßŸÑŸÖÿπŸÑŸàŸÖÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©:",
                noChoice: "ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿßÿÆÿ™Ÿäÿßÿ± ÿ®ÿπÿØ"
            }
        };

        async function fetchScenario() {
            try {
                const prompt = "Generate a location and 4 related words. Return JSON: {loc_ar, words_ar:[4], loc_en, words_en:[4]}";
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { responseMimeType: "application/json" }
                    })
                });
                const data = await response.json();
                return JSON.parse(data.candidates[0].content.parts[0].text);
            } catch (e) {
                return { 
                    loc_ar: "ÿßŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸâ", words_ar: ["ÿ∑ÿ®Ÿäÿ®", "ÿ•ÿ®ÿ±ÿ©", "ŸÖÿ±Ÿäÿ∂", "ÿØŸàÿßÿ°"], 
                    loc_en: "Hospital", words_en: ["Doctor", "Needle", "Patient", "Medicine"] 
                };
            }
        }

        function App() {
            const [lang, setLang] = useState('en');
            const [user, setUser] = useState(null);
            const [room, setRoom] = useState(null);
            const [roomId, setRoomId] = useState('');
            const [inputCode, setInputCode] = useState('');
            const [nickname, setNickname] = useState(localStorage.getItem('pro_spy_nick') || '');
            const [loading, setLoading] = useState(false);
            const [timeLeft, setTimeLeft] = useState(0);
            const [copyStatus, setCopyStatus] = useState(false);

            const t = TRANSLATIONS[lang];

            useEffect(() => {
                const unsub = auth.onAuthStateChanged(async (u) => {
                    if (u) setUser(u);
                    else await auth.signInAnonymously();
                });
                return unsub;
            }, []);

            useEffect(() => {
                if (!user || !roomId) return;
                const unsub = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('rooms').doc(roomId)
                    .onSnapshot(doc => setRoom(doc.exists ? doc.data() : null));
                return unsub;
            }, [user, roomId]);

            useEffect(() => {
                let timer;
                if (room?.status === 'playing' && room?.timerStart) {
                    timer = setInterval(() => {
                        const elapsed = Math.floor((Date.now() - room.timerStart) / 1000);
                        setTimeLeft(Math.max(0, 45 - elapsed));
                    }, 1000);
                }
                return () => clearInterval(timer);
            }, [room?.status, room?.timerStart]);

            const handleCreate = async () => {
                if (!nickname.trim()) return;
                setLoading(true);
                const id = Math.random().toString(36).substring(2, 7).toUpperCase();
                await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('rooms').doc(id).set({
                    id, admin: user.uid, status: 'waiting',
                    players: [{ uid: user.uid, name: nickname, vote: null }],
                    scenario: null, spyId: null, timerStart: null
                });
                setRoomId(id);
                setLoading(false);
            };

            const handleJoin = async () => {
                const code = inputCode.toUpperCase();
                if (!nickname.trim() || !code) return;
                setLoading(true);
                const ref = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('rooms').doc(code);
                const snap = await ref.get();
                if (snap.exists) {
                    const data = snap.data();
                    if (!data.players.find(p => p.uid === user.uid)) {
                        await ref.update({ players: [...data.players, { uid: user.uid, name: nickname, vote: null }] });
                    }
                    setRoomId(code);
                }
                setLoading(false);
            };

            const startMission = async () => {
                if (room.admin !== user.uid) return;
                setLoading(true);
                const scenario = await fetchScenario();
                const spy = room.players[Math.floor(Math.random() * room.players.length)];
                await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('rooms').doc(roomId).update({
                    status: 'playing', scenario, spyId: spy.uid, timerStart: Date.now(),
                    players: room.players.map(p => ({ ...p, vote: null }))
                });
                setLoading(false);
            };

            const castVote = async (word) => {
                if (timeLeft <= 0 || room.spyId === user.uid) return;
                const updated = room.players.map(p => p.uid === user.uid ? { ...p, vote: word } : p);
                await db.collection('artifacts').doc(appId).collection('public').doc('data').collection('rooms').doc(roomId).update({ players: updated });
            };

            const copyCode = () => {
                const el = document.createElement('textarea');
                el.value = roomId;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
            };

            const myCurrentVote = room?.players.find(p => p.uid === user.uid)?.vote;

            if (!user) return (
                <div className="h-screen flex items-center justify-center font-black tracking-widest text-cyan-400">
                    <span className="animate-pulse">INITIALIZING SECURE LINK...</span>
                </div>
            );

            const isSpy = room?.spyId === user.uid;

            return (
                <div className="min-h-screen p-4 md:p-12 flex flex-col items-center" dir={lang === 'ar' ? 'rtl' : 'ltr'}>
                    <div className="w-full max-w-xl space-y-8">
                        
                        {/* HEADER */}
                        <header className="flex justify-between items-center animate-reveal">
                            <div className="flex items-center gap-4">
                                <div className="w-12 h-12 glass flex items-center justify-center border-cyan-500/30 logo-anim">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" className="text-cyan-400">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                        <path d="M12 8v4M12 16h.01"/>
                                    </svg>
                                </div>
                                <div>
                                    <h1 className="text-4xl font-black tracking-tighter leading-none">{t.appName}</h1>
                                    <p className="text-[10px] font-bold tracking-[0.4em] opacity-40 text-cyan-300">{t.tagline}</p>
                                </div>
                            </div>
                            <button onClick={() => setLang(lang === 'en' ? 'ar' : 'en')} className="glass px-5 py-2 text-xs font-bold hover:bg-white/10 active:scale-95 transition-all">
                                {t.langBtn}
                            </button>
                        </header>

                        {!room ? (
                            <main className="glass p-8 md:p-12 space-y-10 animate-reveal">
                                <div className="space-y-4">
                                    <label className="text-[10px] font-black opacity-30 tracking-[0.2em] uppercase">{t.nickname}</label>
                                    <input 
                                        className="w-full bg-black/40 border border-white/10 p-5 rounded-2xl font-bold focus:border-cyan-500 outline-none transition-all text-lg"
                                        placeholder="..."
                                        value={nickname}
                                        onChange={e => { setNickname(e.target.value); localStorage.setItem('pro_spy_nick', e.target.value); }}
                                    />
                                </div>
                                <div className="grid grid-cols-1 gap-6">
                                    <button onClick={handleCreate} disabled={loading || !nickname} className="btn-primary w-full py-5 rounded-2xl font-black text-lg tracking-widest disabled:opacity-50">
                                        {t.create}
                                    </button>
                                    <div className="flex flex-col sm:flex-row gap-3">
                                        <input 
                                            className="flex-1 bg-black/40 border border-white/10 p-5 rounded-2xl font-mono text-center font-black tracking-[0.5em] uppercase outline-none"
                                            placeholder={t.codePlaceholder}
                                            value={inputCode}
                                            onChange={e => setInputCode(e.target.value.toUpperCase())}
                                        />
                                        <button onClick={handleJoin} disabled={loading || !nickname || !inputCode} className="glass px-10 py-5 font-black hover:bg-white/10 active:scale-95 disabled:opacity-50">
                                            {t.join}
                                        </button>
                                    </div>
                                </div>
                            </main>
                        ) : (
                            <div className="space-y-6 animate-reveal">
                                <div className="glass p-4 flex justify-between items-center">
                                    <div>
                                        <span className="text-[9px] font-black opacity-30 tracking-widest uppercase">DATA_KEY</span>
                                        <div className="flex items-center gap-2">
                                            <span className="text-xl font-black text-cyan-400 font-mono">{room.id}</span>
                                            <button onClick={copyCode} className={`px-3 py-1 rounded-full text-[9px] font-black uppercase ${copyStatus ? 'bg-cyan-500 text-black' : 'bg-white/5 border border-white/10'}`}>
                                                {copyStatus ? t.copied : t.copy}
                                            </button>
                                        </div>
                                    </div>
                                    <div className="text-right">
                                        <span className="text-[9px] font-black opacity-30 tracking-widest uppercase">{t.players}</span>
                                        <div className="text-xl font-black">{room.players.length}<span className="text-xs opacity-30 ml-1">/ 12</span></div>
                                    </div>
                                </div>

                                {room.status === 'waiting' ? (
                                    <div className="glass p-6 space-y-6">
                                        <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-[40vh] overflow-y-auto pr-2">
                                            {room.players.map((p, i) => (
                                                <div key={i} className={`p-4 rounded-2xl border ${p.uid === user.uid ? 'bg-cyan-500/10 border-cyan-500/30' : 'bg-white/5 border-transparent'}`}>
                                                    <div className="flex items-center gap-3">
                                                        <div className={`w-2 h-2 rounded-full ${p.uid === user.uid ? 'bg-cyan-400' : 'bg-white/20'}`}></div>
                                                        <span className="font-bold text-sm truncate uppercase">{p.name}</span>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                        {room.admin === user.uid ? (
                                            <button onClick={startMission} disabled={loading || room.players.length < 3} className="btn-primary w-full py-5 rounded-2xl font-black text-xl tracking-widest disabled:opacity-30">
                                                {t.start}
                                            </button>
                                        ) : (
                                            <div className="text-center py-6 border-2 border-dashed border-white/5 rounded-3xl opacity-40 font-black text-[11px] animate-pulse tracking-widest">{t.waiting}</div>
                                        )}
                                    </div>
                                ) : (
                                    <div className="space-y-6">
                                        <div className={`p-10 rounded-[2.5rem] border-b-[12px] text-center relative overflow-hidden transition-all duration-700 ${isSpy ? 'bg-gradient-to-br from-red-950/80 to-red-900/40 border-red-800' : 'bg-gradient-to-br from-cyan-950/80 to-blue-900/40 border-blue-800'}`}>
                                            <div className="relative z-10 space-y-4">
                                                <div className="text-6xl mb-2">{isSpy ? 'üï∂Ô∏è' : 'üì°'}</div>
                                                <h2 className="text-4xl font-black tracking-tighter uppercase italic">{isSpy ? t.spyTitle : t.citizenTitle}</h2>
                                                <p className="text-[10px] font-black opacity-60 uppercase tracking-[0.3em]">{isSpy ? t.spyDesc : t.citizenDesc}</p>
                                                <div className="h-[1px] bg-white/10 w-32 mx-auto my-6"></div>
                                                {!isSpy ? (
                                                    <div className="space-y-1">
                                                        <span className="text-[9px] font-black uppercase tracking-[0.4em] text-cyan-400">{t.objective}</span>
                                                        <div className="text-6xl font-black text-white">{lang === 'ar' ? room.scenario?.loc_ar : room.scenario?.loc_en}</div>
                                                    </div>
                                                ) : (
                                                    <div className="bg-black/40 p-6 rounded-3xl border border-red-500/20">
                                                        <span className="text-[10px] font-black uppercase text-red-400 block mb-2">{t.encrypted}</span>
                                                        <p className="text-sm font-medium opacity-80 italic">{t.spyHint}</p>
                                                    </div>
                                                )}
                                            </div>
                                        </div>

                                        <div className="glass p-8 space-y-6">
                                            <div className="flex justify-between items-center">
                                                <h3 className="font-black text-2xl italic">{t.voting}</h3>
                                                <div className="text-2xl font-black font-mono text-cyan-400">{timeLeft}{t.sec}</div>
                                            </div>

                                            <div className="grid grid-cols-2 gap-4">
                                                {(!isSpy ? (lang === 'ar' ? room.scenario?.words_ar : room.scenario?.words_en) : Array(4).fill("..."))?.map((word, idx) => {
                                                    const isVoted = myCurrentVote === word;
                                                    const voters = room.players.filter(p => p.vote === word);
                                                    return (
                                                        <button 
                                                            key={idx}
                                                            onClick={() => !isSpy && castVote(word)}
                                                            disabled={timeLeft <= 0 || isSpy}
                                                            className={`p-6 rounded-3xl border-2 text-base font-black transition-all relative ${isVoted ? 'bg-white text-black border-white scale-105 z-10' : 'bg-white/5 border-white/5 hover:border-white/20'}`}
                                                        >
                                                            {word}
                                                            <div className="absolute bottom-2 right-2 flex -space-x-1">
                                                                {voters.map((_, vidx) => <div key={vidx} className="w-2 h-2 rounded-full bg-cyan-500 border border-black"></div>)}
                                                            </div>
                                                        </button>
                                                    );
                                                })}
                                            </div>

                                            {/* SELECTION BOX - ÿπÿ±ÿ∂ ÿßŸÑŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ÿ®ÿ¥ŸÉŸÑ Ÿàÿßÿ∂ÿ≠ ÿ®ŸÜÿßÿ° ÿπŸÑŸâ ÿ∑ŸÑÿ®ŸÉ */}
                                            {!isSpy && (
                                                <div className={`mt-8 p-6 rounded-3xl border-2 transition-all animate-reveal flex items-center justify-between ${myCurrentVote ? 'bg-cyan-500/10 border-cyan-400/50 selected-word-pulse' : 'bg-white/5 border-white/5'}`}>
                                                    <div className="space-y-1">
                                                        <span className="text-[10px] font-black opacity-40 uppercase tracking-[0.2em]">{t.yourChoice}</span>
                                                        <div className={`text-2xl font-black tracking-tight ${myCurrentVote ? 'text-cyan-400' : 'text-white/20 italic'}`}>
                                                            {myCurrentVote || t.noChoice}
                                                        </div>
                                                    </div>
                                                    {myCurrentVote && <div className="text-3xl animate-bounce">üéØ</div>}
                                                </div>
                                            )}

                                            {room.admin === user.uid && timeLeft <= 0 && (
                                                <button onClick={startMission} className="w-full bg-white/5 hover:bg-white/10 py-5 rounded-2xl font-black text-xs uppercase tracking-[0.4em] border border-white/10 mt-6 transition-all">
                                                    ‚ö° {t.newRound}
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}

                        <footer className="text-center opacity-10 font-mono text-[10px] uppercase tracking-[0.8em] py-12">
                            PROTOCOL_V2_SELECTION_ACTIVE
                        </footer>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
